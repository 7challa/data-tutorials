

<div class="tutorial-content">
  <h2 id="overview">Overview</h2>

<p>The Azure cloud infrastructure has become a commonplace for users to deploy virtual machines on the cloud due to its’ flexibility, ease of deployment, and cost benefits.  In addition, Microsoft has expanded Azure to include a marketplace with thousands of certified, open source, and community software applications, developer services, and data—pre-configured for Microsoft Azure.  This tutorial covers deploying the HDP Sandbox offering from the Azure Marketplace.</p>

<h2 id="prerequisites">Prerequisites</h2>
<p><a href="https://azure.microsoft.com/en-us/pricing/free-trial/">A Microsoft Azure account. You can sign up for an evaluation account if you do not already have one.</a></p>

<h2 id="conceptsfaqs">Concepts/FAQs</h2>

<p>The offering is a single Virtual Machine which has similar functionality as the on-premise HDP Sandbox. The operating system used is CentOS Linux.</p>

<h2 id="procedure">Procedure</h2>

<p>1. Go to <a href="https://azure.microsoft.com/en-us/marketplace/">https://azure.microsoft.com/en-us/marketplace/</a> and type in “Hortonworks Sandbox” in the search bar and hit enter. The following page displays.</p>

<p><img src="/assets/deploying-on-ms-azure/01_azure_welcome.png" alt="01" /></p>

<p>2. Click on the “Hortonworks Sandbox” offering. The next page displayed will be the landing page with some information.  On this page click on the “Create Virtual Machine” button.</p>

<p><img src="/assets/deploying-on-ms-azure/02_azure_create_sandbox.png" alt="02" /></p>

<p>3. If not yet logged in, the following page will be displayed. Enter your credentials.</p>

<p><img src="/assets/deploying-on-ms-azure/03_azure_sign_in.png" alt="03" /></p>

<p>4. After logging in, the following page is presented.  Select “Resource Manager” from the drop down field “Select a deployment model” field.  Microsoft suggests to always use the Resource Manager deployment model.  More information on the Resource Manager can be found <a href="https://azure.microsoft.com/en-us/documentation/articles/resource-group-overview/">here</a> .  After making the selection, click “Create”.</p>

<p><img src="/assets/deploying-on-ms-azure/4_select_resource_manager.png" alt="04" /></p>

<p>5. After clicking create, you see a two new sections that will walk you through in entering information about the virtual machine being provisioned.  Below shows a screenshot of the fields filled out.</p>

<p><img src="/assets/deploying-on-ms-azure/5_sandbox_settings.png" alt="05" /></p>

<p>6. Enter a value for each of the fields.  Below is an explanation of the fields.</p>

<ul>
  <li><strong>Name</strong>: This is the name you want to reference the machine.  You can choose any name to your liking.  In the example above, “Mysandbox” was the name given to the machine.</li>
  <li><strong>User name</strong>:  This is the name of the user account used to log into the machine.  In this example, “azure” is the user name chosen.</li>
  <li><strong>Authentication type</strong>: This field allows a choice to either use a password or an SSH public key.  This is needed when using an ssh client to access the virtual machine for any specific reason.  If you are not familiar using SSH, simply select password and enter a password that satisfies 3 of the following:</li>
  <li>1 lower case character</li>
  <li>1 upper case character</li>
  <li>1 digit</li>
  <li>1 special character</li>
  <li>
    <p>If you are familiar with using SSH, proceed in selecting “SSH public key” and enter in your public SSH key.</p>
  </li>
  <li><strong>Subscription</strong>:  This depends on your account.  The example used above is set to “Free Trial”.</li>
  <li><strong>Resource group</strong>: This is the name of the resource group you want to create.  You can also select an existing group if you like.  Suggestion is to create a new resource group.  In the example, we create a resource group name that is the same name as the machine “Mysandbox”.</li>
  <li><strong>Location</strong>: This field allows selection of the region where the machine is deployed.  Region selection may be important if you have certain limits on your account or if a specific region is having service issues.  You can typically keep this as default.  In the example above, the default is “West US”.  If you are having issues with deploying an offering, Azure support may ask you to switch to a different region location as a troubleshooting measure.</li>
</ul>

<p><strong>NOTE</strong>:  Make sure to write down your username and password.  If using ssh public key, ensure you have the corresponding private key.  Without it, you won’t be able to access the terminal of the machine.</p>

<p>7. After entering values for the fields click OK.  The following sections are then presented:</p>

<p><img src="/assets/deploying-on-ms-azure/6_select_machine_type.png" alt="06" /></p>

<p>8. Here you can select the machine to run the Sandbox.  The suggestion is to use a machine equivalent or higher than an A4 spec’d machine.  After selecting the machine, click on the select button.</p>

<p><img src="/assets/deploying-on-ms-azure/7_confirm_settings.png" alt="007" /></p>

<p>9. The next prompt is a list of settings.  You can simply leave these as defaults and click “OK”.  The next screen is the summary.</p>

<p><img src="/assets/deploying-on-ms-azure/8_azure_machine_summary.png" alt="08" /></p>

<p>10. Ensure the information looks correct for the specific items you have entered and selected.  If all looks well,  click the “OK” button.</p>

<p><img src="/assets/deploying-on-ms-azure/9_finalize_machine_buy.png" alt="09" /></p>

<p>11. The last step in this section is to click purchase.  You will be brought back to the dashboard. Click on the top bar bell to view the progress. Shows the following screen.</p>

<p><img src="/assets/deploying-on-ms-azure/010_deploying_sandbox.png" alt="10" /></p>

<p>After some time, you see</p>

<p><img src="/assets/deploying-on-ms-azure/0100_deploying_sandbox_successful.png" alt="11" /></p>

<p>Once the virtual machine is deployed the following screen is displayed in the portal.</p>

<p><img src="/assets/deploying-on-ms-azure/011_sandox_ip_address.png" alt="12" /></p>

<p>12. Take note of the IP address.  In this example, it is 22.99.9.232 and highlighted in a green box.  Your machine will have a different IP.  Open up a new browser tab and enter in your IP address followed by the port 8888.</p>

<p>13. Hit enter and you should be welcomed with the following registration page.</p>

<p><img src="/assets/deploying-on-ms-azure/012_sandbox_welcome.png" alt="13" /></p>

<p>14. Fill out the form, agree to the terms of use and click the submit button.  The next page displayed is the splash page.</p>

<p><img src="/assets/deploying-on-ms-azure/013_sandbox_get_started.png" alt="14" /></p>

<p>15. Follow the tutorial  <a href="http://hortonworks.com/hadoop-tutorial/learning-the-ropes-of-the-hortonworks-sandbox/">here</a> to explore more about Sandbox in Azure part.</p>

<p>16. If you are new to HDP, start your journey by clicking on the link to the Hello HDP!.</p>

<h2 id="next-steps">Next Steps…</h2>
<p>Now that you have the Sandbox up and running, feel free to try our list of tutorials.  By clicking on the try tab on the splash page.  The page below will be displayed allowing you to explore our tutorials.</p>

<p><img src="/assets/deploying-on-ms-azure/014_sandbox_next_steps.png" alt="15" /></p>

</div>

<div id="tutorial-footer">
  <hr>
  <h2>Tutorial Q&amp;A and Reporting Issues</h2>
  <p>If you need help or have questions with this tutorial, please first check HCC for existing Answers to questions on this tutorial using the Find Answers button.  If you don't find your answer you can post a new HCC question for this tutorial using the Ask Questions button.</p>
  <p><a class="btn" href="https://community.hortonworks.com/topics/tutorial-.html" role="button">Find Answers</a> <a class="btn pull-right" href="https://community.hortonworks.com/questions/ask.html?space=81&topics=tutorial-&topics=hdp-2.4.0" role="button">Ask Questions</a></p>
  <p>Tutorial Name: <strong>Deploy Hortonworks Sandbox on Microsoft Azure</strong></p>
  <p>HCC Tutorial Tag:<strong> tutorial-</strong> and <strong>hdp-2.4.0</strong></p>
  <p>If the tutorial has multiple labs please indicate which lab your question corresponds to. Please provide any feedback related to that lab.</p>
  <p>All Hortonworks, partner and community tutorials are posted in the Hortonworks github and can be contributed via the <a href="https://github.com/hortonworks/tutorials/wiki">Hortonworks Tutorial Contribution Guide</a>.  If you are certain there is an issue or bug with the tutorial, please <a href="https://github.com/hortonworks/tutorials/wiki#issues-with-tutorials">create an issue</a> on the repository and we will do our best to resolve it!</p>
</div>
