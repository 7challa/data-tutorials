

<div class="tutorial-content">
  <h2 id="deprecated">Deprecated</h2>

<p><strong><em>This tutorial will no longer be available starting May 1st, 2016.</em></strong></p>

<p>Scala is relatively new language based on the JVM. The main difference between other "Object Oriented Languages" and Scala is that everything in Scala is an object. The primitive types that are defined in Java, such as int or boolean, are objects in Scala. Functions are treated as objects, too. As objects, they can be passed as arguments, allowing a functional programming approach to writing applications for Apache Spark.</p>

<p>If you have programmed in Java or C#, you should feel right at home with Scala with very little effort.</p>

<p>You can also run or compile Scala programs from commandline or from IDEs such as Eclipse.</p>

<h5 id="prerequisite">Prerequisite</h5>
<p><strong>Note: While this tour is written with Spark 1.2.0, it also works with HDP 2.3 with Spark 1.3.1</strong></p>

<p><a href="http://hortonworks.com/products/hortonworks-sandbox/#install">Download Hortonworks Sandbox</a></p>

<h5 id="run-sandbox-and-connect-to-it-from-ssh">Run Sandbox and connect to it from SSH</h5>

<p>Let's open a shell to our Sandbox through SSH:</p>

<p><img src="https://raw.githubusercontent.com/hortonworks/tutorials/hdp/assets/a-short-primer-on-scala/Screenshot_2015-04-13_07_58_43.png" alt="" /></p>

<p>The default password is <code class="highlighter-rouge">hadoop</code></p>

<h5 id="launch-spark-shell">Launch Spark-Shell</h5>

<p>To learn and experiment with data, I prefer the interactivity of the Scala shell. Let's launch the Spark shell as it is a fully capable Scala shell.</p>

<p>spark-shell –master yarn-client –driver-memory 512m –executor-memory 512m</p>

<p><img src="https://raw.githubusercontent.com/hortonworks/tutorials/hdp/assets/a-short-primer-on-scala/Screenshot%202015-06-08%2013.20.55.png" alt="" /></p>

<h3 id="values">Values</h3>

<p>Values can be either mutable or immutable. Mutable values are expressed by the <code class="highlighter-rouge">var</code> keyword.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>var a: Int = 5
a = a + 1
</code></pre>
</div>

<p>println(a)</p>

<p><img src="https://raw.githubusercontent.com/hortonworks/tutorials/hdp/assets/a-short-primer-on-scala/Screenshot%202015-06-08%2012.26.39.png" alt="" /></p>

<p>Immutable values are expressed by the <code class="highlighter-rouge">val</code> keyword.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>val b: Int = 7

b = b + 1 //Error

println(b)
</code></pre>
</div>

<p><img src="https://raw.githubusercontent.com/hortonworks/tutorials/hdp/assets/a-short-primer-on-scala/Screenshot%202015-06-08%2012.29.13.png" alt="" /></p>

<h3 id="type-inference">Type Inference</h3>

<p>Scala like Java is a strongly typed language. But, it is very smart in type inference, which alleviates the onus of specifying types from the programmers.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>var c = 9

println(c.getClass)

val d = 9.9

println(d.getClass)

val e = "Hello"

println(e.getClass)
</code></pre>
</div>

<p><img src="https://raw.githubusercontent.com/hortonworks/tutorials/hdp/assets/a-short-primer-on-scala/Screenshot%202015-06-08%2012.52.36.png" alt="" /></p>

<h3 id="functions">Functions</h3>

<p>Functions are defined with the <code class="highlighter-rouge">def</code> keyword. In Scala, the last expression in the function body is returned without the need of the <code class="highlighter-rouge">return</code> keyword.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>def cube(x: Int): Int = {

  val x2 = x * x * x

  x2

}
cube(3)
</code></pre>
</div>

<p><img src="https://raw.githubusercontent.com/hortonworks/tutorials/hdp/assets/a-short-primer-on-scala/Screenshot%202015-06-08%2013.24.04.png" alt="" /></p>

<p>You can write the function more succinctly by leaving out the braces and the return type as return type can be easily inferred.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>def cube(x: Int) = x*x*x
</code></pre>
</div>

<p><img src="https://raw.githubusercontent.com/hortonworks/tutorials/hdp/assets/a-short-primer-on-scala/Screenshot%202015-06-08%2013.27.58.png" alt="" /></p>

<h3 id="anonymous-functions">Anonymous Functions</h3>

<p>Anonymous functions can be assigned as a <code class="highlighter-rouge">var</code> or <code class="highlighter-rouge">val</code> value. It can also be passed to and returned from other functions.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>val sqr: Int =&gt; Int = x =&gt; x * x

sqr(2)
</code></pre>
</div>

<p><img src="https://raw.githubusercontent.com/hortonworks/tutorials/hdp/assets/a-short-primer-on-scala/Screenshot%202015-06-08%2013.50.40.png" alt="" /></p>

<p>Or, anonymous functions can be further shortened to</p>

<div class="highlighter-rouge"><pre class="highlight"><code>val thrice: Int =&gt; Int = _ * 3

thrice(15)
</code></pre>
</div>

<p><img src="https://raw.githubusercontent.com/hortonworks/tutorials/hdp/assets/a-short-primer-on-scala/Screenshot%202015-06-08%2013.58.41.png" alt="" /></p>

<p>where <code class="highlighter-rouge">_</code> is a the shorthand for whatever the input was.</p>

<h3 id="collections">Collections</h3>

<p>Scala has very convenient set of collections including Lists, Sets, Tuples, Iterators and Options. When you combine these data structures with anonymous fucntions and closures it is very expressive.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>val strs = Array("This", "is", "happening")
strs.map(_.reverse)
</code></pre>
</div>

<p><img src="https://raw.githubusercontent.com/hortonworks/tutorials/hdp/assets/a-short-primer-on-scala/Screenshot%202015-06-08%2014.38.48.png" alt="" /></p>

<div class="highlighter-rouge"><pre class="highlight"><code>strs.reduce(_+" "+_)
</code></pre>
</div>

<p><img src="https://raw.githubusercontent.com/hortonworks/tutorials/hdp/assets/a-short-primer-on-scala/Screenshot%202015-06-08%2014.28.31.png" alt="" /></p>

<p>This is far from comprehensive. To learn more visit <a href="http://scala-lang.org">http://scala-lang.org</a></p>

</div>

<div id="tutorial-footer">
  <hr>
  <h2>Tutorial Q&amp;A and Reporting Issues</h2>
  <p>If you need help or have questions with this tutorial, please first check HCC for existing Answers to questions on this tutorial using the Find Answers button.  If you don't find your answer you can post a new HCC question for this tutorial using the Ask Questions button.</p>
  <p><a class="btn" href="https://community.hortonworks.com/topics/tutorial-.html" role="button">Find Answers</a> <a class="btn pull-right" href="https://community.hortonworks.com/questions/ask.html?space=81&topics=tutorial-&topics=hdp-2.3.0" role="button">Ask Questions</a></p>
  <p>Tutorial Name: <strong>A Short Primer on Scala</strong></p>
  <p>HCC Tutorial Tag:<strong> tutorial-</strong> and <strong>hdp-2.3.0</strong></p>
  <p>If the tutorial has multiple labs please indicate which lab your question corresponds to. Please provide any feedback related to that lab.</p>
  <p>All Hortonworks, partner and community tutorials are posted in the Hortonworks github and can be contributed via the <a href="https://github.com/hortonworks/tutorials/wiki">Hortonworks Tutorial Contribution Guide</a>.  If you are certain there is an issue or bug with the tutorial, please <a href="https://github.com/hortonworks/tutorials/wiki#issues-with-tutorials">create an issue</a> on the repository and we will do our best to resolve it!</p>
</div>
