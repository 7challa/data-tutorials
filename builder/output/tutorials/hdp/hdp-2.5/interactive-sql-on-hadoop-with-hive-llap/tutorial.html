<div class="tutorial-content">
  <h1 id="interactive-sql-on-hadoop-with-hive-llap">Interactive SQL on Hadoop with Hive LLAP</h1>

<h2 id="introduction">Introduction</h2>

<p><strong>Hive LLAP</strong> combines persistent query servers and intelligent in-memory caching to deliver blazing-fast SQL queries without sacrificing the scalability Hive and Hadoop are known for. This tutorial will show you how to try LLAP on your HDP 2.5 Sandbox and experience its interactive performance firsthand using a BI tool of your choice (<code class="highlighter-rouge">Tableau</code> will be show in the demo but others will work as well).</p>

<p><img src="https://raw.githubusercontent.com/orendain/big-data-tutorials/master/tutorials/hdp/hdp-2.5/interactive-sql-on-hadoop-with-hive-llap/assets/hive_llap_architecture.png" alt="hive_llap_architecture" /></p>

<h3 id="benefits-of-hive-llap-include">Benefits of Hive LLAP include:</h3>

<ol>
  <li>LLAP uses persistent query servers to avoid long startup times and deliver fast SQL.</li>
  <li>LLAP shares its in-memory cache among all SQL users, maximizing the use of this scarce resource.</li>
  <li>LLAP has fine-grained resource management and preemption, making it great for highly concurrent access across many users.</li>
  <li>LLAP is 100% compatible with existing Hive SQL and Hive tools.</li>
</ol>

<h2 id="goals-and-objectives">Goals and Objectives</h2>

<p>The goal of this tutorial is to learn how to enable interactive SQL query performance on the HDP Sandbox using <code class="highlighter-rouge">LLAP</code>, then to connect a BI tool to LLAP and run interactive SQL analytics.</p>

<h2 id="prerequisites">Prerequisites</h2>

<ul>
  <li>This tutorial requires the HDP 2.5 Sandbox. The HDP 2.5 Sandbox can be downloaded at https://hortonworks.com/products/sandbox/</li>
  <li>If you are not familiar HDP 2.5 Sandbox, the following tutorial provides an introduction:
<a href="https://hortonworks.com/hadoop-tutorial/learning-the-ropes-of-the-hortonworks-sandbox/">Learning the Ropes of the Hortonworks Sandbox</a></li>
  <li>This tutorial assumes you have a <strong>16GB</strong> (or more) laptop and does its best to maximize available resources. Since this is relatively limited, if you’re looking to try Hive LLAP at big data scales, check out the LLAP template on the cloud.</li>
  <li><code class="highlighter-rouge">Hive LLAP</code> is a Technical Preview feature in the HDP 2.5 Sandbox. This tutorial requires making some configurations to the Sandbox and allocating additional resources. In order to run this tutorial you will need to be able to allocate <strong>12 GB RAM</strong> to the Sandbox VM.</li>
  <li>This tutorial also requires <strong>Tableau version 9.X</strong> or later.</li>
</ul>

<h2 id="outline">Outline</h2>

<ul>
  <li><a href="#hive_llap_sandbox_setup">1. Hive LLAP Sandbox Setup</a></li>
  <li><a href="#connect_with_bi_tool">2. Connect with a BI Tool and Run Queries</a></li>
  <li><a href="#connect_llap">3. Connect LLAP to the Large Dataset (Optional, Advanced)</a></li>
  <li><a href="#enhanced_monitoring">4. Enhanced Monitoring for Hive and LLAP</a></li>
  <li><a href="#further-reading">Further Reading</a></li>
</ul>

<h2 id="1-hive-llap-sandbox-setup-">1. Hive LLAP Sandbox Setup <a id="hive_llap_sandbox_setup"></a></h2>

<h3 id="increase-sandbox-memory-size">Increase Sandbox Memory Size</h3>

<p>To benefit from Hive LLAP’s in-memory processing we need a bit more memory and processing power than the Sandbox offers by default. In this tutorial we’ll use a <code class="highlighter-rouge">12 GB</code> sandbox and increase available <code class="highlighter-rouge">CPU power</code> as well.</p>

<p>When you import the Sandbox in VirtualBox, change the Appliance settings to increase RAM from 8192 to 12288 MB. When you first select the appliance to import you will see a screen similar to this one:</p>

<p><img src="https://raw.githubusercontent.com/orendain/big-data-tutorials/master/tutorials/hdp/hdp-2.5/interactive-sql-on-hadoop-with-hive-llap/assets/import_appliance.png" alt="import_appliance" /></p>

<p>When you press <code class="highlighter-rouge">Continue</code> you have the opportunity to change the amount of VM RAM. Double-click the amount of RAM and change it to <code class="highlighter-rouge">12288 MB</code>.</p>

<p><img src="https://raw.githubusercontent.com/orendain/big-data-tutorials/master/tutorials/hdp/hdp-2.5/interactive-sql-on-hadoop-with-hive-llap/assets/change_ram.png" alt="change_ram" /></p>

<p>This assumes you have a <code class="highlighter-rouge">16 GB</code> system. If your system has more than 16 GB total memory, feel free to increase RAM even further for better performance. When the import is done, boot the Sandbox and wait for the welcome screen to appear.</p>

<h3 id="enable-ambari-admin-login">Enable Ambari Admin Login</h3>

<p>We need to change the Sandbox configuration using Ambari to enable LLAP. This requires us to first reset the Ambari admin password and then log in. To do this, follow
https://hortonworks.com/hadoop-tutorial/learning-the-ropes-of-the-hortonworks-sandbox/#setup-ambari-admin-password</p>

<p>Confirm you can log in to the Ambari UI as the admin user before continuing.</p>

<h3 id="generate-a-larger-dataset-to-analyze-optional">Generate a Larger Dataset to Analyze (Optional)</h3>

<p>The Sandbox ships with a few small tables, but to get a more substantial feel of LLAP we can generate a larger dataset. This part is optional and if you’re in a hurry you can skip it. For this demo we will generate 2 GB of data based on the standard TPC-H benchmark. To simplify things, all data generation and loading are handled by a single bundle you can download and run on your Sandbox.</p>

<p>To get started, log into the console by navigating your browser to http://127.0.0.1:4200/, then follow these steps:</p>

<p>1. Log in to the console as root.</p>

<p>2. Become the hive user:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>su - hive
</code></pre>
</div>

<p>3. Download the data generator bundle:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>wget  https://github.com/cartershanklin/sandbox-datagen/blob/master/datagen.tgz?raw=true
</code></pre>
</div>

<p>4. Extract the bundle:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>tar -zxf datagen.tgz?raw=true
</code></pre>
</div>

<p>5. Enter the datagen directory:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>cd datagen
</code></pre>
</div>

<p>6. Generate the data:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>sh datagen.sh 2
</code></pre>
</div>

<p>This step will take up to a few minutes.</p>

<h3 id="stop-services-we-dont-need">Stop Services We Don’t Need</h3>

<p>Ambari enables a number of HDP services we don’t need to try Hive LLAP. Since LLAP relies heavily on caching and in-memory processing we will stop these to free memory to improve performance.</p>

<p>When you first login you will see these services. If the services show up as yellow rather than green, wait a moment until you see green checkmarks next to these services.</p>

<p><img src="https://raw.githubusercontent.com/orendain/big-data-tutorials/master/tutorials/hdp/hdp-2.5/interactive-sql-on-hadoop-with-hive-llap/assets/initial_services.png" alt="initial_services" /></p>

<p>To free up a bit more resources we can stop stop Oozie, Flume and Zeppelin Notebook. For each service go to <code class="highlighter-rouge">Service Actions</code>:</p>

<p><img src="https://raw.githubusercontent.com/orendain/big-data-tutorials/master/tutorials/hdp/hdp-2.5/interactive-sql-on-hadoop-with-hive-llap/assets/service_actions.png" alt="service_actions" /></p>

<p>Then press <code class="highlighter-rouge">Stop</code>. After the service is stopped, select <code class="highlighter-rouge">Turn On Maintenance Mode</code> from Service Actions.</p>

<p><img src="https://raw.githubusercontent.com/orendain/big-data-tutorials/master/tutorials/hdp/hdp-2.5/interactive-sql-on-hadoop-with-hive-llap/assets/final_services.png" alt="final_services" /></p>

<h3 id="increase-yarn-memory-in-ambari">Increase YARN Memory in Ambari</h3>

<p>Out of the box the Sandbox ships with a minimal YARN allocation of <code class="highlighter-rouge">2.25 GB</code>. We need to increase this to take advantage of Hive LLAP in-memory processing.</p>

<p>First select <code class="highlighter-rouge">YARN</code>:</p>

<p><img src="https://raw.githubusercontent.com/orendain/big-data-tutorials/master/tutorials/hdp/hdp-2.5/interactive-sql-on-hadoop-with-hive-llap/assets/select_yarn.png" alt="select_yarn" /></p>

<p>Then Configs -&gt; Settings. We will increase YARN Memory to <code class="highlighter-rouge">8GB (8192MB)</code></p>

<p><img src="https://raw.githubusercontent.com/orendain/big-data-tutorials/master/tutorials/hdp/hdp-2.5/interactive-sql-on-hadoop-with-hive-llap/assets/yarn_memory.png" alt="yarn_memory" /></p>

<blockquote>
  <p>NOTE: If you see a maximum value of 256 TB, reload your tab until you see a smaller value.</p>
</blockquote>

<p>After that, set the Minimum Container Size to <code class="highlighter-rouge">512MB</code>.</p>

<p><img src="https://raw.githubusercontent.com/orendain/big-data-tutorials/master/tutorials/hdp/hdp-2.5/interactive-sql-on-hadoop-with-hive-llap/assets/minimum_container.png" alt="minimum_container" /></p>

<p>Increase Percentage of physical CPU allocated for all containers on a node to <code class="highlighter-rouge">100%</code> and Number of virtual cores to <code class="highlighter-rouge">4</code>.</p>

<p><img src="https://raw.githubusercontent.com/orendain/big-data-tutorials/master/tutorials/hdp/hdp-2.5/interactive-sql-on-hadoop-with-hive-llap/assets/percentage_cpu.png" alt="percentage_cpu" /></p>

<p>Now press <code class="highlighter-rouge">Save</code>.</p>

<p><strong>Important: Restart YARN before continuing using Restart All Affected.</strong></p>

<p>Next switch to the Tez configuration and change tez.task.launch.cmd-opts to <code class="highlighter-rouge">-Xmx819m</code>.</p>

<p><img src="https://raw.githubusercontent.com/orendain/big-data-tutorials/master/tutorials/hdp/hdp-2.5/interactive-sql-on-hadoop-with-hive-llap/assets/tez_config.png" alt="tez_config" /></p>

<p>And press <code class="highlighter-rouge">Save</code>.</p>

<h3 id="enable-and-configure-interactive-query-hive-llap">Enable and Configure Interactive Query (Hive LLAP)</h3>

<p>Now we actually enable Hive LLAP. Go to the Hive Settings tab and enable <code class="highlighter-rouge">Interactive Query</code> on the Settings tab:</p>

<p><img src="https://raw.githubusercontent.com/orendain/big-data-tutorials/master/tutorials/hdp/hdp-2.5/interactive-sql-on-hadoop-with-hive-llap/assets/enable_interactive_query.png" alt="enable_interactive_query" /></p>

<p>Accept the default location to install HiveServer2 Interactive. After you select a host you will be able to change the resources dedicated to Interactive Query. Set % of Cluster Capacity to <code class="highlighter-rouge">80%</code>, and Maximum Total Concurrent Queries to <code class="highlighter-rouge">1</code>.</p>

<p>You should see these settings before you save:</p>

<p><img src="https://raw.githubusercontent.com/orendain/big-data-tutorials/master/tutorials/hdp/hdp-2.5/interactive-sql-on-hadoop-with-hive-llap/assets/cluster_capacity.png" alt="cluster_capacity" /></p>

<p>Next, confirm your HiveServer2 Heap Size and Metastore Heap Size are both set to 1024 MB. If they are set to something larger, reset them to 1024 MB.</p>

<p><img src="https://raw.githubusercontent.com/orendain/big-data-tutorials/master/tutorials/hdp/hdp-2.5/interactive-sql-on-hadoop-with-hive-llap/assets/cbo.png" alt="cbo" /></p>

<p>Next, increase the per Map memory threshold to about <code class="highlighter-rouge">350 MB</code> (doesn’t need to be exact):</p>

<p><img src="https://raw.githubusercontent.com/orendain/big-data-tutorials/master/tutorials/hdp/hdp-2.5/interactive-sql-on-hadoop-with-hive-llap/assets/memory_map_join.png" alt="memory_map_join" /></p>

<p>Next switch to the Advanced configuration tab and set hive.tez.java.opts to <code class="highlighter-rouge">-server -Xmx819m -Djava.net.preferIPv4Stack=true</code> :</p>

<p><img src="https://raw.githubusercontent.com/orendain/big-data-tutorials/master/tutorials/hdp/hdp-2.5/interactive-sql-on-hadoop-with-hive-llap/assets/hive_tez_java_opts.png" alt="hive_tez_java_opts" /></p>

<p>Finallty press Save, Hive LLAP will automatically start, wait until Ambari has zero active operations before continuing.</p>

<p>Note that to connect to Hive LLAP you use a dedicated HiveServer2 instance which, by default, runs on port 10500. You can also use Zookeeper-based service discovery to connect beeline to Hive LLAP. The connection information is listed on the Hive Summary tab, under HiveServer2 Interactive JDBC URL.</p>

<p><img src="https://raw.githubusercontent.com/orendain/big-data-tutorials/master/tutorials/hdp/hdp-2.5/interactive-sql-on-hadoop-with-hive-llap/assets/hive_llap_io_memory_mode.png" alt="hive_llap_io_memory_mode" /></p>

<p>Finally, press <code class="highlighter-rouge">Save</code>. Now restart YARN, MapReduce2, Tez and Hive.</p>

<h2 id="2-connect-with-a-bi-tool-and-run-queries-">2. Connect with a BI Tool and Run Queries <a id="connect_with_bi_tool"></a></h2>

<p>Now we’re ready to connect a BI Tool to LLAP and try things out. This demo will use Tableau. If you prefer another tool you should adapt these instructions to your choice.</p>

<h3 id="download-and-install-the-odbc-driver">Download and Install the ODBC driver</h3>

<p>First we need to install the Hive ODBC driver. If you are querying the large dataset generated earlier, it is strongly recommended to use the latest ODBC driver, since it can help BI tools take advantage of the new primary / foreign key support to run queries much faster.</p>

<p>Start by downloading the <code class="highlighter-rouge">ODBC driver</code> from the Add-Ons section in https://hortonworks.com/downloads/</p>

<p>If you are on Windows: Create a DSN using the ODBC Driver Manager and point it to host <code class="highlighter-rouge">127.0.0.1</code>, port 10500, use Username/Password authentication with the credentials <code class="highlighter-rouge">hive/hive</code>.</p>

<p><img src="https://raw.githubusercontent.com/orendain/big-data-tutorials/master/tutorials/hdp/hdp-2.5/interactive-sql-on-hadoop-with-hive-llap/assets/odbc_driver_setup.png" alt="odbc_driver_setup" /></p>

<blockquote>
  <p><strong>If you are on Mac</strong>: Note that connecting using Tableau does not require the use of an ODBC Driver Manager, the driver will be loaded automatically. Other BI tools may require the use of an ODBC Driver Manager.</p>
</blockquote>

<h3 id="connect-tableau-to-llap-and-a-small-dataset">Connect Tableau to LLAP and a Small Dataset</h3>

<p>Start Tableau, connect “To a server” -&gt; More Servers -&gt; Hortonworks Hadoop Hive</p>

<p><img src="https://raw.githubusercontent.com/orendain/big-data-tutorials/master/tutorials/hdp/hdp-2.5/interactive-sql-on-hadoop-with-hive-llap/assets/connect_tableau.png" alt="connect_tableau" /></p>

<p>When prompted, connect to <code class="highlighter-rouge">127.0.0.1</code> port <code class="highlighter-rouge">10500</code>, type <code class="highlighter-rouge">HiveServer2</code>, Authentication <code class="highlighter-rouge">User Name and Password</code>, Username <code class="highlighter-rouge">hive</code>, Password <code class="highlighter-rouge">hive</code>.</p>

<p><img src="https://raw.githubusercontent.com/orendain/big-data-tutorials/master/tutorials/hdp/hdp-2.5/interactive-sql-on-hadoop-with-hive-llap/assets/hortonworks_hive_connection.png" alt="hortonworks_hive_connection" /></p>

<p>Next click <code class="highlighter-rouge">Select Schema</code> and click the magnifying glass to show available schema.</p>

<p><img src="https://raw.githubusercontent.com/orendain/big-data-tutorials/master/tutorials/hdp/hdp-2.5/interactive-sql-on-hadoop-with-hive-llap/assets/select_schema.png" alt="select_schema" /></p>

<p>Select <code class="highlighter-rouge">default</code> and click the magnifying glass to reveal all tables.</p>

<p><img src="https://raw.githubusercontent.com/orendain/big-data-tutorials/master/tutorials/hdp/hdp-2.5/interactive-sql-on-hadoop-with-hive-llap/assets/select_default.png" alt="select_default" /></p>

<p>Drag <code class="highlighter-rouge">sample_08</code> to the workspace.</p>

<p><img src="https://raw.githubusercontent.com/orendain/big-data-tutorials/master/tutorials/hdp/hdp-2.5/interactive-sql-on-hadoop-with-hive-llap/assets/sample_08.png" alt="sample_08" /></p>

<p>Click on <code class="highlighter-rouge">Sheet</code> 1 to go to the worksheet.</p>

<p>This table has data on professions, numbers of people within those professions and average salaries for these professions. We can now easily explore this data interactively. For example let’s create a packed bubble chart that shows the relative numbers of people in different professions as in this chart.</p>

<p><img src="https://raw.githubusercontent.com/orendain/big-data-tutorials/master/tutorials/hdp/hdp-2.5/interactive-sql-on-hadoop-with-hive-llap/assets/bubble_chart.png" alt="bubble_chart" /></p>

<p>To reproduce this chart:</p>

<p>1. Drag the <code class="highlighter-rouge">Total Emp</code> measure to the bottom right section of the main pallette:</p>

<p><img src="https://raw.githubusercontent.com/orendain/big-data-tutorials/master/tutorials/hdp/hdp-2.5/interactive-sql-on-hadoop-with-hive-llap/assets/measures.png" alt="measures" /></p>

<p>You should see a value of 405,555,870.</p>

<p>2. Drag the Description Dimension to the Rows shelf. The result should look like:</p>

<p><img src="https://raw.githubusercontent.com/orendain/big-data-tutorials/master/tutorials/hdp/hdp-2.5/interactive-sql-on-hadoop-with-hive-llap/assets/description_dimension.png" alt="description_dimension" /></p>

<p>3. Select the packed bubble visualization:</p>

<p><img src="https://raw.githubusercontent.com/orendain/big-data-tutorials/master/tutorials/hdp/hdp-2.5/interactive-sql-on-hadoop-with-hive-llap/assets/packed_bubble_visualization.png" alt="packed_bubble_visualization" /></p>

<p>This will give a visualization that makes it very easy to spot ratios. Unfortunately the All Occupations value is included, so let’s filter it out.</p>

<p>4. Drag the Description Dimensions to the Filters section. Unselect “All Occupations” from the Filter and press Ok.</p>

<p><img src="https://raw.githubusercontent.com/orendain/big-data-tutorials/master/tutorials/hdp/hdp-2.5/interactive-sql-on-hadoop-with-hive-llap/assets/filter_description.png" alt="filter_description" /></p>

<p>Your visualization should now look like the diagram above. You can continue to explore this dataset interactively if you want. For example, see if you can recreate this visualization, which sorts job categories by average salary and mentions how many individuals belong to each profession.</p>

<h2 id="3-connect-llap-to-the-large-dataset-optional-advanced-">3. Connect LLAP to the Large Dataset (Optional, Advanced) <a id="connect_llap"></a></h2>

<p>If you generated the large dataset above, here’s how to load it into Tableau and explore it. The data schema has a total of 8 tables and it’s important to relate them correctly. Each BI tool will have its own way of doing that, and here we’ll talk about how to do that in Tableau.</p>

<p>First we optimize the dataset for analytics. This means 2 things:</p>

<p>1. We convert the data to ORCFile format.
2. We create primary and foreign keys for the dataset. This allows BI tools to do what’s called “join elimination” to greatly improve performance.</p>

<p>To load the data, navigate back to <code class="highlighter-rouge">http://127.0.0.1:4200/</code> and run:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>su - hive
cd datagen
sh load_data.sh
</code></pre>
</div>

<p>This process will take a couple of minutes. After it’s complete, connect Tableau to the llap schema and show all tables.</p>

<p><img src="https://raw.githubusercontent.com/orendain/big-data-tutorials/master/tutorials/hdp/hdp-2.5/interactive-sql-on-hadoop-with-hive-llap/assets/llap_schema.png" alt="llap_schema" /></p>

<p>There are 8 total tables here and for a realistic experience we should load all of them with the appropriate associations. Here’s the load order and associations you should make:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Load Order</th>
      <th style="text-align: center">Table</th>
      <th style="text-align: center">Join Condition</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">lineitem</td>
      <td style="text-align: center">N/A</td>
    </tr>
    <tr>
      <td style="text-align: center">2</td>
      <td style="text-align: center">orders</td>
      <td style="text-align: center">Join L_Orderkey to O_Orderkey</td>
    </tr>
    <tr>
      <td style="text-align: center">3</td>
      <td style="text-align: center">customer</td>
      <td style="text-align: center">Join O_Custkey to C_Custkey</td>
    </tr>
    <tr>
      <td style="text-align: center">4</td>
      <td style="text-align: center">nation</td>
      <td style="text-align: center">Join C_Nationkey to N_Nationkey</td>
    </tr>
    <tr>
      <td style="text-align: center">5</td>
      <td style="text-align: center">region</td>
      <td style="text-align: center">Join N_Regionkey to R_Regionkey</td>
    </tr>
    <tr>
      <td style="text-align: center">6</td>
      <td style="text-align: center">partsupp</td>
      <td style="text-align: center">Join L_Suppkey to Ps_Suppkey AND Join L_Partkey to Ps_Partkey</td>
    </tr>
    <tr>
      <td style="text-align: center">7</td>
      <td style="text-align: center">part</td>
      <td style="text-align: center">Join Ps_Partkey to P_Partkey</td>
    </tr>
    <tr>
      <td style="text-align: center">8</td>
      <td style="text-align: center">supplier</td>
      <td style="text-align: center">Join Ps_Suppkey to S_Suppkey</td>
    </tr>
  </tbody>
</table>

<p>It is important to ensure these join conditions are established properly. If they aren’t, queries will run very slow. When you’re done, the table associations should look like this:</p>

<p><img src="https://raw.githubusercontent.com/orendain/big-data-tutorials/master/tutorials/hdp/hdp-2.5/interactive-sql-on-hadoop-with-hive-llap/assets/table_association.png" alt="table_association" /></p>

<p>At this point it’s a good idea to save your workbook to avoid having to do this again. Here’s an example visualization you can do with this data. First drag the L_Extendedprice measure to the bottom right of the workspace. Next, drag the L_Shipinstruct Dimension to the Columns shelf and the L_Shipmode Dimension to the Rows shelf. When you’re done you should see a table like this:</p>

<p><img src="https://raw.githubusercontent.com/orendain/big-data-tutorials/master/tutorials/hdp/hdp-2.5/interactive-sql-on-hadoop-with-hive-llap/assets/shipinstruct_shipmode.png" alt="shipinstruct_shipmode" /></p>

<p>As you’re interacting, these queries should take no longer than about 5 seconds on a system with adequate resources. If queries are taking longer, ensure the join conditions are set up properly, ensure you are using the latest ODBC driver and ensure the settings given above have all been applied. You can also use the Tez UI (covered below) to further diagnose queries.</p>

<h2 id="4-enhanced-monitoring-for-hive-and-llap-">4. Enhanced Monitoring for Hive and LLAP <a id="enhanced_monitoring"></a></h2>

<p>HDP 2.5 includes some nice new ways to debug and diagnose Hive and Tez jobs. First let’s look at the Tez View. In Ambari hover over the “more items” icon in the top right and click <code class="highlighter-rouge">Tez View</code>.</p>

<p><img src="https://raw.githubusercontent.com/orendain/big-data-tutorials/master/tutorials/hdp/hdp-2.5/interactive-sql-on-hadoop-with-hive-llap/assets/click_tez_view.png" alt="click_tez_view" /></p>

<p>Here you’ll see a screen that includes all the queries that have been run through Hive:</p>

<p><img src="https://raw.githubusercontent.com/orendain/big-data-tutorials/master/tutorials/hdp/hdp-2.5/interactive-sql-on-hadoop-with-hive-llap/assets/tez_all_dags.png" alt="tez_all_dags" /></p>

<p>If we drill into a particular query we can see the exact query text that Tableau generates:</p>

<p><img src="https://raw.githubusercontent.com/orendain/big-data-tutorials/master/tutorials/hdp/hdp-2.5/interactive-sql-on-hadoop-with-hive-llap/assets/tableau_generated_query.png" alt="tableau_generated_query" /></p>

<p>This Tez View also includes a new Vertex Swimlane view for critical path analysis:</p>

<p><img src="https://raw.githubusercontent.com/orendain/big-data-tutorials/master/tutorials/hdp/hdp-2.5/interactive-sql-on-hadoop-with-hive-llap/assets/tez_all_dags_vertex_swimlane.png" alt="tez_all_dags_vertex_swimlane" /></p>

<h2 id="further-reading">Further Reading</h2>

<p>If you’re just getting started with Hive and want to learn about its SQL capabilities or data access options, see <a href="https://cwiki.apache.org/confluence/display/Hive/GettingStarted">Getting Started with Apache Hive</a> on the wiki.</p>

<p>For a high-level overview of Hive 2, watch <a href="http://www.slideshare.net/HadoopSummit/apache-hive-20-sql-speed-scale">Apache Hive 2.0: SQL Speed Scale</a>.</p>

</div>

<hr>

<div id="tutorial-footer">
  <h2>Tutorial Q&amp;A and Reporting Issues</h2>

  <p>If you need help or have questions with this tutorial, please check HCC for answers to existing questions about this tutorial by using the Find Answers button below.  You can post a new HCC question by using the Ask Questions button below.</p>

  <p>
    <a class="btn" href="https://community.hortonworks.com/topics/tutorial-720.html" role="button">Find Answers</a>
    <a class="btn pull-right" href="https://community.hortonworks.com/questions/ask.html?space=81&topics=tutorial-720&amp;topics=hdp-2.5.0" role="button">Ask Questions</a>
  </p>

  <p>Tutorial Name: <strong>Interactive SQL on Hadoop with Hive LLAP</strong></p>
  <p>HCC Tags:<strong> tutorial-720</strong> and <strong>hdp-2.5.0</strong></p>
  <p>If the tutorial has multiple components please indicate which one your question relates to.</p>

  <p>All Hortonworks, partner and community tutorials are posted in the Hortonworks GitHub repository and can be contributed to by following the <a href="https://github.com/hortonworks/big-data-tutorials/wiki">Tutorial Contribution Guide</a>.  For issues/bugs/feedback, please <a href="https://github.com/hortonworks/big-data-tutorials/issues/new">submit an issue</a> and we will do our best to resolve it!</p>
</div>

