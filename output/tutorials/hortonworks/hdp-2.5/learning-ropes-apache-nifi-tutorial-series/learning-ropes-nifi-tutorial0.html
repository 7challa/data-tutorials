<div class="tutorial-content">
  <h1 id="tutorial-0-set-up-nifi-environment">Tutorial 0: Set-Up NiFi Environment</h1>

<h2 id="introduction">Introduction</h2>

<p>In this tutorial, you learn about the NiFi environment, how to install NiFi onto Hortonworks Sandbox or on a local machine, and how to start NiFi.</p>

<h2 id="pre-requisites">Pre-Requisites</h2>
<ul>
  <li>Completed Learning the Ropes of Apache NiFi-Introduction.</li>
  <li>Downloaded and installed <a href="http://hortonworks.com/products/sandbox/">Hortonworks Sandbox</a>. (Required for Section 2 and 3 for NiFi installation.)</li>
  <li>If on mac or linux, add an IP and <code class="highlighter-rouge">sandbox.hortonworks.com</code> to your <code class="highlighter-rouge">/private/etc/hosts</code> file</li>
  <li>If on windows 7, add an IP and <code class="highlighter-rouge">sandbox.hortonworks.com</code> to your <code class="highlighter-rouge">C://Windows/System32/Drivers/etc/hosts</code> file</li>
  <li>For Windows users, download <a href="https://openhatch.org/missions/windows-setup/install-git-bash">Git Bash</a> to run Linux terminal commands in these tutorials.</li>
</ul>

<p>The following terminal commands in the tutorial instructions are performed in VirtualBox Sandbox and Mac machine. For windows users, to run the following terminal commands, download <a href="https://openhatch.org/missions/windows-setup/install-git-bash">Git Bash</a>.</p>

<p>If on mac or linux, to add <code class="highlighter-rouge">sandbox.hortonworks.com</code> to your list of hosts, open the terminal, enter the following command, replace {Host-Name} with the appropriate host for your sandbox:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="nb">echo</span> <span class="s1">'{Host-Name} sandbox.hortonworks.com'</span> | sudo tee -a /private/etc/hosts
</code></pre>
</div>

<p>If on windows 7, to add <code class="highlighter-rouge">sandbox.hortonworks.com</code> to your list of hosts, open git bash, enter the following command, replace {Host-Name} with the appropriate host for your sandbox:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="nb">echo</span> <span class="s1">'{Host-Name} sandbox.hortonworks.com'</span> | tee -a /c/Windows/System32/Drivers/etc/hosts
</code></pre>
</div>

<p><img src="assets/lab0-nifi/changing-hosts-file.png" alt="changing-hosts-file.png" /></p>

<h2 id="outline">Outline</h2>
<ul>
  <li><a href="#explore-nifi-environment">Section 0: Explore NiFi Environment Before NiFi Installation</a>
    <ul>
      <li><a href="#install-hdf-on-sandbox">0.A Plan to Install HDF 2.0 on Sandbox</a></li>
      <li><a href="#install-hdf-on-machine">0.B Plan to Install HDF 2.0 on Local Machine</a></li>
    </ul>
  </li>
  <li><a href="#setup-nifi-locally">Section 1: Setup NiFi on Local Machine</a>
    <ul>
      <li><a href="#download-nifi-machine">Step 1: Download and Install NiFi Locally</a></li>
      <li><a href="#start-nifi-locally">Step 2: Start NiFi</a></li>
    </ul>
  </li>
  <li><a href="#nifi-ambari-wizard">Section 2: Setup NiFi on Sandbox by Ambari Wizard</a>
    <ul>
      <li><a href="#install-NiFi-ambari">Step 1: Install NiFi By Ambari Wizard</a></li>
      <li><a href="#start-nifi-ambari">Step 2: Start NiFi via Ambari Service</a></li>
    </ul>
  </li>
  <li><a href="#setup-nifi-sandbox">Section 3: Setup NiFi on Sandbox By CLI</a>
    <ul>
      <li><a href="#install-NiFi-cli">Step 1: Install NiFi By Sandbox Shell</a></li>
      <li><a href="#start-nifi-cli">Step 2: Start NiFi via Sandbox Shell</a></li>
      <li><a href="#forward-port-virtualbox">Step 3A: Forward Port with VirtualBox GUI</a></li>
      <li><a href="#forward-port-azure">Step 3B: Forward Port with Azure GUI</a></li>
    </ul>
  </li>
  <li><a href="#conclusion-lab0">Conclusion</a></li>
  <li><a href="#troubleshoot-nifi-installation">Appendix A: Troubleshoot NiFi Installation</a></li>
</ul>

<hr />

<h3 id="section-0-explore-nifi-environment-before-nifi-installation-">Section 0: Explore NiFi Environment Before NiFi Installation <a id="explore-nifi-environment"></a></h3>

<p>FOr this tutorial you can run NiFi inside a single virtual machine or on your local computer. This version of the tutorial instructions are based on <a href="http://hortonworks.com/downloads/">Hortonworks DataFlow 2.0 GZipped</a>. There are 2 ways to download and install HDF 2.0: Option 1 on a Hortonworks Sandbox 2.5 Virtual Image (via Ambari Wizard, Sandbox Shell) or Option 2 on your local machine. HDF comes in 2 versions with only <strong>NiFi</strong> or with <strong>NiFi, Kafka, Storm, and Zookeeper</strong>. For this tutorial series, you should download HDF with NiFi only. The necessary components are:</p>
<ul>
  <li>HDF 2.0 (NiFi only)</li>
  <li>Internet Access</li>
</ul>

<h3 id="0a-plan-to-install-hdf-20-on-hdp-sandbox-">0.A Plan to Install HDF 2.0 on HDP Sandbox <a id="install-hdf-on-sandbox"></a></h3>

<p>If you plan to install HDF on Hortonworks Sandbox, review the table, and proceed to step 2.</p>

<p><strong>Table 1: Hortonworks Sandbox VM Information</strong></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Parameter</th>
      <th style="text-align: center">Value (VirtualBox)</th>
      <th style="text-align: center">Value(VMware)</th>
      <th style="text-align: right">Value(MS Azure)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Host Name</td>
      <td style="text-align: center">127.0.0.1</td>
      <td style="text-align: center">172.16.110.129</td>
      <td style="text-align: right">23.99.9.233</td>
    </tr>
    <tr>
      <td style="text-align: left">Port</td>
      <td style="text-align: center">2222</td>
      <td style="text-align: center">2222</td>
      <td style="text-align: right">22</td>
    </tr>
    <tr>
      <td style="text-align: left">Terminal Username</td>
      <td style="text-align: center">root</td>
      <td style="text-align: center">root</td>
      <td style="text-align: right">{username-of-azure}</td>
    </tr>
    <tr>
      <td style="text-align: left">Terminal Password</td>
      <td style="text-align: center">hadoop</td>
      <td style="text-align: center">hadoop</td>
      <td style="text-align: right">{password-of-azure}</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p>Note: <strong>Host Name</strong> values are unique for VMware &amp; Azure Sandbox compared to the table. For VMware and VirtualBox, <strong>Host Name</strong> is located on the Sandbox Welcome screen. For Azure, <strong>Host Name</strong> is located under <strong>Public IP Address</strong> on the Sandbox Dashboard. For Azure users, you created the terminal <strong>username</strong> and <strong>password</strong> while deploying the Sandbox on Azure. For VMware and VirtualBox users, you change the terminal password after first login.</p>
</blockquote>

<p>If it is your first time using the Sandbox VM, you might be prompted to change the default ‘hadoop’ password. Run the following command and provide a stronger password:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>ssh -p 2222 root@sandbox.hortonworks.com
root@localhost's password:
You are required to change your password immediately (root enforced)
Last login: Wed Jun 15 19:47:44 2016 from 10.0.2.2
Changing password for root.
(current) UNIX password:
New password:
Retype new password:
[root@sandbox ~]#
</code></pre>
</div>

<h3 id="0b-plan-to-install-hdf-20-on-local-machine-">0.B Plan to Install HDF 2.0 on Local Machine <a id="install-hdf-on-machine"></a></h3>

<p>You should read this section if you plan to install NiFi on your local machine. Once you have verified that your machine meets system requirements, proceed to Step 3.</p>

<p>Does your system meet HDF’s installation requirements?</p>

<p>Supported OS for HDF Installation:</p>
<ul>
  <li>Linux Red Hat/Cent OS 6 or 7) 64-bit</li>
  <li>Ubuntu 12.04 or 14.04 64-bit</li>
  <li>Debian 6 or 7</li>
  <li>SUSE Enterprise 11-SP3</li>
  <li>MAC OS X</li>
  <li>Windows OS</li>
</ul>

<p>Supported Browsers:</p>
<ul>
  <li>Mozilla Firefox latest</li>
  <li>Google Chrome latest</li>
  <li>MS Edge</li>
  <li>Safari 8</li>
</ul>

<p>Supported JDKS:</p>
<ul>
  <li>Open JDK7 or JDK8</li>
  <li>Oracle JDK 7 or JDK 8</li>
</ul>

<p>Supported HDP Versions that Interoperate with HDF:</p>
<ul>
  <li>HDP 2.3.x</li>
  <li>HDP 2.4.x</li>
  <li>HDP 2.5.x</li>
</ul>

<p>Two Versions of HDF</p>

<p>Version 1 only comes with NiFi.</p>
<ul>
  <li>On the Hortonworks HDF downloads page, version 1 is available.</li>
</ul>

<p>Version 2 comes with Ambari, Ranger, NiFi, Kafka, Storm and Zookeeper</p>
<ul>
  <li>This version is available in Hortonworks Documentation</li>
</ul>

<p>There are 2 ways to install the NiFi Service by local machine, Hortonworks
Sandbox via Ambari Service Wizard or Sandbox Shell.</p>

<hr />

<h3 id="section-1-setup-nifi-on-local-machine-">Section 1: Setup NiFi on Local Machine <a id="setup-nifi-locally"></a></h3>

<h3 id="step-1-download-and-install-nifi-locally-">Step 1: Download and Install NiFi Locally <a id="download-nifi-machine"></a></h3>

<p>1. Open a browser. Download NiFi from <a href="http://hortonworks.com/downloads/">HDF Downloads Page</a>. You will see four HDF download links. We will download the <strong>NiFi only</strong> option. There are two package options: one for HDF TAR.GZ file tailored to Linux and zip file more compatible with Windows. Mac can use either option. In this tutorial section, download the zip on a Mac:</p>

<p><img src="assets/lab0-download-install-start-nifi/download-hdf-learn-ropes-nifi.png" alt="download_hdf_iot" /></p>

<p>2. After downloading NiFi, it will be in a compressed format. To install NiFi, extract the files from the compressed file to a location in which you want to run the application. For the tutorial, we moved the extracted HDF folder to the <code class="highlighter-rouge">Applications</code> folder.</p>

<p>The image below shares NiFi downloaded and installed in the Applications folder:</p>

<p><img src="assets/lab0-download-install-start-nifi/download_install_nifi.png" alt="download_install_nifi" /></p>

<h3 id="step-2-start-nifi-locally-">Step 2: Start NiFi Locally <a id="start-nifi-locally"></a></h3>

<p>If you downloaded and installed NiFi on your local machine, use this step to start NiFi.</p>

<p>There are 3 methods to start NiFi: launch NiFi in foreground, in the background or as a service. See the <a href="http://docs.hortonworks.com/HDPDocuments/HDF1/HDF-1.2.0.1/bk_HDF_InstallSetup/content/starting-nifi.html">HDF Install and Setup Guide</a> to learn more.</p>

<p>1. To start NiFi in the background, open a terminal window or git bash, navigate to NiFi installation directory ,<code class="highlighter-rouge">Applications</code> folder, and enter:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>./HDF-2.0.0.0/nifi/bin/nifi.sh start
</code></pre>
</div>

<p>2. Open NiFi at <code class="highlighter-rouge">http://sandbox.hortonworks.com:8080/nifi/</code>. Wait 1 to 2 minutes for NiFi to load.</p>

<p>Now that you started NiFi, review the <a href="#conclusion-lab0">conclusion</a> and then we can move onto the tutorial 1.</p>

<hr />

<h3 id="section-2-setup-nifi-on-sandbox-by-ambari-wizard-">Section 2: Setup NiFi on Sandbox by Ambari Wizard <a id="nifi-ambari-wizard"></a></h3>

<h3 id="step-1-install-nifi-by-ambari-wizard-">Step 1: Install NiFi By Ambari Wizard <a id="install-NiFi-ambari"></a></h3>

<p>Use the following steps to perform the NiFi installation:</p>

<p>1. SSH into the Sandbox VM:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>ssh root@sandbox.hortonworks.com -p 2222
</code></pre>
</div>

<blockquote>
  <p>Note: You should receive a success message.</p>
</blockquote>

<p>2. Login into Ambari as admin. In the left sidebar of services, click on the <strong>Actions</strong> button. A drop down menu appears, select the <strong>Add Service</strong> button <img src="assets/lab0-download-install-start-nifi/add_service.png" alt="add_service" />. The <strong>Add Service Wizard</strong> window will appear.</p>

<p><img src="assets/lab0-download-install-start-nifi/add_service_wizard.png" alt="add_service_wizard" /></p>

<p>Choose the NiFi service:</p>

<p><img src="assets/lab0-download-install-start-nifi/select_nifi_service.png" alt="select_nifi_service" /></p>

<p>3. Once NiFi box is checked, select the <strong>Next</strong> button. As the the Ambari Wizard transitions to <strong>Assign Masters</strong>, you will see an <strong>Error</strong> window message ignore it. Click on the <strong>OK</strong> button. You will see an indicator that the <strong>Assign Masters</strong> page is loading, keep it’s default settings and click <strong>Next</strong>. As the wizard transitions to <strong>Assign Slaves and Clients</strong>, a <strong>Validation Issues</strong> window will appear, select <strong>Continue Anyway</strong>. The wizard will continue onto the next setup settings called <strong>Customize Services</strong>. Keep it’s default settings, click <strong>Next</strong>. A <strong>Consistency Check Failed</strong> window will appear, click <strong>Proceed Anyway</strong> and you will proceed to the <strong>Review</strong> section.</p>

<p>4. For the <strong>Review</strong> section, you will see a list of repositories, select <strong>Deploy-&gt;</strong>.</p>

<p><img src="assets/lab0-download-install-start-nifi/review_section_nifi.png" alt="review_section_nifi" /></p>

<blockquote>
  <p>Note: you should see a preparing to deploy message.</p>
</blockquote>

<p>5. The wizard will transition to the <strong>Install, Start and Test</strong> section. Click <strong>Next</strong>.</p>

<p><img src="assets/lab0-download-install-start-nifi/install_started_service_success.png" alt="install_started_service_success" /></p>

<p>6. At the Summary section, you see an <strong>Important</strong> alert, which states that we should restart services that contain <strong>restart indicators</strong> in the left sidebar of Ambari Services on the Ambari Dashboard. Click <strong>Continue-&gt;</strong>.</p>

<p><img src="assets/lab0-download-install-start-nifi/summary_section_wizard.png" alt="summary_section_wizard" /></p>

<p>7. Upon a successful installation, you should see a new services listed with a <strong>green check symbol</strong> next to the service name. This check symbol also indicates that NiFi is running.</p>

<p><img src="assets/lab0-download-install-start-nifi/service_installed_succesfully.png" alt="service_installed_succesfully" /></p>

<blockquote>
  <p>Note: If you run into any issues installing NiFi using the Ambari Wizard, refer to Appendix A.</p>
</blockquote>

<h3 id="step-2-start-nifi-via-ambari-service-">Step 2: Start NiFi via Ambari Service <a id="start-nifi-ambari"></a></h3>

<p>If NiFi is not already running, we will use Ambari Service Tool to launch NiFi.</p>

<p>1. Click on NiFi located in the left sidebar of Ambari Services on the Dashboard.</p>

<p>2. Select the <strong>Action Services</strong> button, click <strong>Start</strong> to activate NiFi.</p>

<p><img src="assets/lab0-download-install-start-nifi/start_nifi_button.png" alt="start_nifi_button" /></p>

<blockquote>
  <p>Note: Once the service successfully started you should see a <strong>green check symbol</strong> next to the name of the service.</p>
</blockquote>

<p>3. Open NiFi at <code class="highlighter-rouge">http://sandbox.hortonworks.com:9090/nifi/</code>. Wait 1 to 2 minutes for NiFi to load.</p>

<p><img src="assets/lab0-download-install-start-nifi/open_nifi_html_interface.png" alt="open_nifi_html_interface" /></p>

<p>Now that you started NiFi, review the <a href="#conclusion-lab0">conclusion</a> and then we can move onto the tutorial 1.</p>

<hr />

<h3 id="section-3-setup-nifi-on-sandbox-by-cli-">Section 3: Setup NiFi on Sandbox By CLI <a id="setup-nifi-sandbox"></a></h3>

<h3 id="step-1-install-nifi-by-sandbox-shell-">Step 1: Install NiFi By Sandbox Shell <a id="install-NiFi-cli"></a></h3>

<p>Use the following steps to guide you through the NiFi installation:</p>

<p>1. Open a terminal window (Mac and Linux) or git bash (Windows) on <strong>sandbox</strong>.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>ssh root@sandbox.hortonworks.com -p 2222
</code></pre>
</div>

<p>2. Download the <strong>jdkinstall_nifi.sh</strong> file from the github repo. Copy &amp; paste the following commands:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="nb">cd
</span>wget https://raw.githubusercontent.com/hortonworks/tutorials/hdp/assets/learning-ropes-nifi-lab-series/automation-scripts/jdkinstall_nifi.sh
chmod +x ./jdkinstall_nifi.sh
</code></pre>
</div>

<p>3. Let’s navigate back to our local machine. Open a browser. Download NiFi from <a href="http://hortonworks.com/downloads/">HDF Downloads Page</a>. There are two package options: one for HDF TAR.GZ file tailored to Linux and ZIP file more compatible with Windows. Mac can use either option. For the tutorial,  download the latest HDF TAR.GZ:</p>

<p><img src="assets/lab0-download-install-start-nifi/download-hdf-learn-ropes-nifi.png" alt="download_hdf_iot" /></p>

<p>4. Now we need to send NiFi from our local machine to the sandbox virtual machine.
Open a terminal for your local machine. If your HDF program was downloaded to the
<strong>Downloads</strong> folder, navigate to it. <code class="highlighter-rouge">cd ~/Downloads</code>, then we can perform
the transport.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>scp -P 2222 HDF-2.0.0.0-579.tar.gz root@sandbox.hortonworks.com:/root
</code></pre>
</div>

<blockquote>
  <p>Note: For VMware and Azure users, the sandbox IP address may be different, so replace 127.0.0.1 with your appropriate IP. Use the ssh-port provided in Table 1. hdf-version is the digits in the tar.gz name you downloaded, for example the numbers in bold HDF-<strong>2.0.0.0-579</strong>.tar.gz. If your HDF version number is different, replace the number in the example with the number you have.</p>
</blockquote>

<p>5. Next, we have to extract the HDF gzipped tar file. Run the following command from the Sandbox terminal:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>tar xvf /root/HDF-2.0.0.0-579.tar.gz
</code></pre>
</div>

<p>6. Now the nifi install script we downloaded earlier, comes back. Run the script from your sandbox terminal:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>./jdkinstall_nifi.sh
</code></pre>
</div>

<p>If you installed NiFi using command line approach, you can move onto <strong>Step 3</strong>.</p>

<h3 id="step-2-start-nifi-via-sandbox-shell-">Step 2: Start NiFi via Sandbox Shell <a id="start-nifi-cli"></a></h3>

<p>In this tutorial, launch NiFi in the background.</p>

<p>1. Open a terminal (Mac and Linux) or git bash (Windows). SSH into the Hortonworks Sandbox:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>ssh root@127.0.0.1 -p 2222
</code></pre>
</div>

<p>2. Navigate to the <code class="highlighter-rouge">bin</code> directory using the following command:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="nb">cd </span>hdf/HDF-2.0.0.0/nifi/bin
</code></pre>
</div>

<p>3. Run the <code class="highlighter-rouge">nifi.sh</code> script to start NiFi:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>./nifi.sh start
</code></pre>
</div>

<blockquote>
  <p>Note: To stop NiFi, type <code class="highlighter-rouge">./nifi.sh stop</code></p>
</blockquote>

<p>Open the NiFi DataFlow at <code class="highlighter-rouge">http://sandbox.hortonworks.com:9090/nifi/</code> to verify NiFi started. Wait 1 minute for NiFi to load. If NiFi HTML interface does not load, verify the value in the nifi.properties file matches <strong>nifi.web.http.port=9090</strong>.</p>

<p>4. Navigate to the <strong>conf</strong> folder and open nifi.properties in the vi editor.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="nb">cd</span> ../conf
vi nifi.properties
</code></pre>
</div>

<p>5. Type <code class="highlighter-rouge">/nifi.web.http.port</code> and press enter. Verify <code class="highlighter-rouge">9090</code> is the value of nifi.web.http.port as below, else change it to this value:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>nifi.web.http.port<span class="o">=</span>9090
</code></pre>
</div>

<p>To exit the vi editor, press <code class="highlighter-rouge">esc</code> and then enter <code class="highlighter-rouge">:wq</code> to save the file.
Now that the configuration in the nifi.properties file is updated, port forward a new NiFi port because the VM is not listening for the port <strong>9090</strong>, so NiFi does not load on the browser. If you are a <strong>VirtualBox Sandbox user, refer to step 3A</strong>. For <strong>Azure Sandbox users, refer to step 3B</strong>.</p>

<h3 id="step-3a-forward-port-with-virtualbox-gui-">Step 3A: Forward Port with VirtualBox GUI <a id="forward-port-virtualbox"></a></h3>

<p>1. Open VirtualBox Manager</p>

<p>2. Right-click your running Hortonworks Sandbox, and select <strong>settings</strong>.</p>

<p>3. Go to the <strong>Network</strong> Tab</p>

<p>Click the button that says <strong>Port Forwarding</strong>. Overwrite NiFi entry with the following values:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Name</th>
      <th style="text-align: center">Protocol</th>
      <th style="text-align: center">Host IP</th>
      <th style="text-align: center">Host Port</th>
      <th style="text-align: center">Guest IP</th>
      <th style="text-align: right">Guest Port</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">NiFi</td>
      <td style="text-align: center">TCP</td>
      <td style="text-align: center">127.0.0.1</td>
      <td style="text-align: center">9090</td>
      <td style="text-align: center"> </td>
      <td style="text-align: right">9090</td>
    </tr>
  </tbody>
</table>

<p><img src="assets/lab0-download-install-start-nifi/port_forward_nifi_iot.png" alt="port_forward_nifi_iot" /></p>

<p>4. Open NiFi at <code class="highlighter-rouge">http://sandbox.hortonworks.com:9090/nifi/</code>. Wait 1 to 2 minutes for NiFi to load.</p>

<blockquote>
  <p>Note: If you have not configured the <code class="highlighter-rouge">sandbox.hortonworks.com</code> alias in <code class="highlighter-rouge">/etc/hosts</code>, try the <code class="highlighter-rouge">http://localhost:9090/nifi</code> URL as well.</p>
</blockquote>

<p>Now that you started NiFi, review the <a href="#conclusion-lab0">conclusion</a> and then we can move onto the tutorial 1.</p>

<h3 id="step-3b-forward-port-with-azure-gui-">Step 3B: Forward Port with Azure GUI <a id="forward-port-azure"></a></h3>

<p>1. Open Azure Sandbox.</p>

<p>2. Click the Sandbox with the <strong>shield icon</strong>.</p>

<p><img src="assets/lab0-download-install-start-nifi/shield-icon-security-inbound.png" alt="shield-icon-security-inbound.png" /></p>

<p>3. Under <strong>Settings</strong>, in the <strong>General</strong> section, click <strong>Inbound Security Rules</strong>.</p>

<p><img src="assets/lab0-download-install-start-nifi/inbound-security-rule.png" alt="inbound-security-rule.png" /></p>

<p>4. Scroll to <strong>NiFi</strong>, and click on the row.</p>

<p><img src="assets/lab0-download-install-start-nifi/list-nifi-port.png" alt="list-nifi-port.png" /></p>

<p>5. Verify the <strong>Destination Port Range</strong> value is 9090, else change it to that.</p>

<p><img src="assets/lab0-download-install-start-nifi/change-nifi-port.png" alt="change-nifi-port.png" /></p>

<p>6. Open NiFi at <code class="highlighter-rouge">http://sandbox.hortonworks.com:9090/nifi/</code>. Wait 1 to 2 minutes for NiFi to load.</p>

<p>Now that you started NiFi, review the <a href="#conclusion-lab0">conclusion</a> and then we can move onto the tutorial 1.</p>

<hr />

<h2 id="conclusion-">Conclusion <a id="conclusion-lab0"></a></h2>

<p>Congratulations! You learned that NiFi can be installed on a VM or directly on your computer. You also learned to download, install, and start NiFi. Now that you have NiFi is up and running, you are ready to build a dataflow.</p>

<h2 id="appendix-a-troubleshoot-nifi-installation-">Appendix A: Troubleshoot NiFi Installation <a id="troubleshoot-nifi-installation"></a></h2>

<p>There are multiple reasons why NiFi installation could have failed. Let’s check a few variables to determine a solution.</p>

<p>1. In the left side-bar of Ambari Services on the Ambari Dashboard, you may see that the NiFi service has a <strong>yellow question mark</strong> next to its name. Click on NiFi service. Then click <strong>Action Services</strong> button, select <strong>Delete Service</strong>.</p>

<p>2. Restart Ambari from the command line. Run:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>ambari-server restart
</code></pre>
</div>

<p>3. When you enter the Ambari Dashboard after the server restarted, you’ll notice NiFi service is gone. Let’s try to repeat the steps from <strong>Step 2</strong> to reinstall the NiFi.</p>

<p>4. Once the service is reinstalled, if there is a <strong>green check symbol</strong> next to the name, then the reinstallation was successful.</p>

<p><img src="assets/lab0-download-install-start-nifi/service_installed_succesfully.png" alt="service_installed_succesfully" /></p>

<h2 id="further-reading">Further Reading</h2>
<p>For more information on NiFi Configuration, see the <a href="http://docs.hortonworks.com/HDPDocuments/HDF1/HDF-1.2.0.1/bk_AdminGuide/content/index.html">System Administrator’s Guide</a>.</p>

</div>

<div id="tutorial-footer">
  <hr>
  <h2>Tutorial Q&amp;A and Reporting Issues</h2>
  <p>If you need help or have questions with this tutorial, please first check HCC for existing Answers to questions on this tutorial using the Find Answers button.  If you don't find your answer you can post a new HCC question for this tutorial using the Ask Questions button.</p>
  <p><a class="btn" href="https://community.hortonworks.com/topics/tutorial-/tutorials/hortonworks/hdp-2.5/learning-ropes-apache-nifi-tutorial-series/learning-ropes-nifi-tutorial0.html" role="button">Find Answers</a> <a class="btn pull-right" href="https://community.hortonworks.com/questions/ask.html?space=81&topics=tutorial-hdf-2.0.0&topics=hdf-2.0.0" role="button">Ask Questions</a></p>
  <p>Tutorial Name: <strong>Tutorial 0 Download, Install and Start NiFi</strong></p>
  <p>HCC Tutorial Tag:<strong> tutorial-/tutorials/hortonworks/hdp-2.5/learning-ropes-apache-nifi-tutorial-series/learning-ropes-nifi-tutorial0</strong> and <strong>hdf-2.0.0</strong></p>
  <p>If the tutorial has multiple labs please indicate which lab your question corresponds to. Please provide any feedback related to that lab.</p>
  <p>All Hortonworks, partner and community tutorials are posted in the Hortonworks github and can be contributed via the <a href="https://github.com/hortonworks/tutorials/wiki">Hortonworks Tutorial Contribution Guide</a>.  If you are certain there is an issue or bug with the tutorial, please <a href="https://github.com/hortonworks/tutorials/wiki#issues-with-tutorials">create an issue</a> on the repository and we will do our best to resolve it!</p>
</div>

